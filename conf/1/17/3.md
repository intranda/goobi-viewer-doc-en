# 1.17.3 Advanced search

There is an advanced search, where you can search specifically in individual metadata fields. In the first line, the search areas from the section `<filters />` are offered, see also [chapter 1.17](./).

The configuration looks like this:

{% tabs %}
{% tab title="config_viewer.xml" %}
```markup
<search>
    <advanced enabled="true">
        <searchFields>
            <template name="_DEFAULT">
                <field visible="true">MD_TITLE</field>
                <field visible="true">MD_PUBLISHER</field>
                <field visible="true" visible="true"untokenizeForPhraseSearch="true">MD_SHELFMARK</field>
                <field visible="true" hierarchical="true">DC</field>
                <field visible="true" range="true">YEAR</field>
                <field label="-----">#SEPARATOR1#</field>
                <field>PI_TOPSTRUCT</field>
                <field>DOCSTRCT_TOP</field>
                <field>DOCSTRCT_SUB</field>
                <field displaySelectItemsThreshold="100">MD_PLACEPUBLISH</field>
                <field>BOOKMARKS</field>
            </template>
        </searchFields>
   </advanced>
</search>
```
{% endtab %}
{% endtabs %}

The order of the fields in the configuration file corresponds to the order of the values displayed in the drop-down menu. The attribute `enabled` turns the advanced search on or off. The default value is `true`.

| **Parameter**                                       | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| --------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **defaultItemNumber**                               | Number of search fields displayed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **searchFields**                                    | <p>Index fields that should be searchable by the user (these can be selected from the drop-down menu). The selection <code>All fields</code> always exists. This selection causes the corresponding term to be searched through all metadata and full text fields (and also in user-generated content, if crowdsourcing module is activated - analogous to the standard search "in all data". In addition, the fields <code>DEFAULT</code> (search in metadata) and <code>FULLTEXT</code> (search in full texts) can be defined to enable corresponding filtering in the advanced search. Note: the <code>PI_TOPSTRUCT</code> field must be defined here for the search to work within a record.</p><p>Field names beginning and ending with a <code>#</code> are treated as non-selectable separators (e.g. <code>#SEPARATOR#</code>). In this case, the label attribute should be used for the visual design of the separator.</p> |
| **searchFields/field/@visible**                     | The attribute `visible="true"` specifies whether a field is displayed by default in the advanced search. If the attribute is missing, the field is only offered for selection within the drop-down menu.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **searchFields/field/@hierachical**                 | If the element has the attribute `hierarchical="true"`, a hierarchically sorted list of the collections available in the index is automatically displayed as a drop-down menu in this line instead of an input field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **searchFields/field/@untokenizeForPhraseSearch**   | The attribute `untokenizeForPhraseSearch="true"` causes the `_UNTOKENIZED` version of the field to be used automatically for the phrase search, in order to allow only complete matches and no matches contained (e.g. for a signature search).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **searchFields/field/@label**                       | Definition of an alternative display label for the search field. This is mainly used for the visual design of separators.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **searchFields/field/@displaySelectItemsThreshold** | If the unique number of values is below the threshold, a drop-down menu is automatically offered. Default value is `50`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **searchFields/field/@range**                       | If the element has the attribute `range="true"`, two input fields are displayed in the line in which a start and end value can be entered. This is useful, for example, with the automatically generated field `YEAR`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

{% hint style="info" %}
The fields `DOCSTRCT`, `DOCSTRCT_TOP`, and `DOCSTRCT_SUB` are handled separately and displayed automatically as a drop-down menu.

The field `BOOKMARKS` is required for the search in the records of a reading list.
{% endhint %}
